# 群雄逐鹿 Dear of the Anti-hero

This is a game dapp. The title comes from an ancient Chinese idiom——群雄逐鹿( qun xiong zhu lu ), who's superficial meaning is a lot of ambitious warlords fighting to get The Dear. "The Dear" is a representative of power. In ancient times, power comes from territory and army.

This game is about players compete with each other to get as much territory which is in form of a limited number of cities as they can in order to produce incomes(EOS/EOSC) and win the game.

[项目地址](https://github.com/treasersimplifies/DeeroftheAntihero_DotA)

## 1 概述
用户进入游戏后，创建角色，选择阵营（待定）。所谓群雄逐鹿，意指用户，即玩家在游戏中进行的是攻城略地的行为。游戏按局来进行，一局游戏的时间暂定45分钟。每一局游戏的开始需要2步，（1）玩家（用户）交付一定的EOS（比如5个/人）作为奖金池（2）玩家数量m足够大，至少大于城池数量n（比如10个）。

攻城方式。模式一，每位玩家依靠自己的实际位置——GPS定位，前往实际的城池位置。那么，在游戏开始后，玩家所在的位置就是自己实际的位置。然后系统会随机选定n个地点作为城池地点，一开始城池无人占领（但是否有防守点可以由庄家设定）。处于同一局游戏中的各位玩家需要通过达到城池所在的实际地点，然后使用攻击点或者道具等进行攻城PK，如果攻城PK成功后，可以选择一些直接花费EOS或者防守道具提高城池的防守点。玩家在游戏中花费的EOS都将加入奖金池，因此奖金池会动态更新。模式二，玩家不依赖于GPS，而是在游戏中的虚拟地图，则游戏开始时，玩家的位置也是随机分配的。前往城池地点只需要在游戏中点击即可。

## 2 攻城者

不论城池是否被玩家占领，只要城池防守点未耗尽，攻城都需要花费一定的成本（防守者甚至可以在城池防守点耗尽前弃城）。新的攻防不再基于直接的点数，而是攻防PK，在攻城者发动宣战后，防守者有一定的时间，比如1分钟来接受挑战。1分钟之后会自动接受挑战。在宣战时，攻击者必须花费EOSC来得到本次攻击要投入的攻击点，之后无法更改。

在这个PK，中系统会随机从多种PK游戏中选择一种，攻防双方就需要进行游戏，游戏结束后，双方的总分数=双方在游戏中的得分*在本次攻防中投入的点数。总分数高的获得这次PK。如果是防守者获胜，则他能继续成为这个城池的防守者。如果攻城者获胜，则他可以选择成为这个城池 的防守者。

举个例子，城池拥有200点防守点。攻击者在本次攻击中投入了100点攻击点（100攻击点=1 EOS）。则如果攻击者在攻城PK游戏中获得游戏得分超过了防守者在游戏中得分的2倍，则攻击者因为总分数更高而获得此次PK胜利。

攻击是一次性完成的，就在这一次PK之间。如果本次PK失败，攻击者可以进行下一次攻击，直到城池防守点被因PK被耗尽。如果攻击者在本次PK前投入的攻击点过多，则在获胜之后无法卖掉重获EOS，但仍可以作为以后攻击的使用（比如失去城池后再次攻击其他城池）。攻防双方都不会因此本次PK的胜负而有获利。攻击点和防守点购买的EOS花费都是进入到奖金池中。

虽然攻击者可以发动多次攻击，而且都会消耗城池的防守点，但是只有在每次PK结束后才能防守者才可以进行防守点补充。所以攻击者应该追求一鼓作气攻下城池，否则这一次PK之后防守者往往会补充防守点。不过比较好的一种策略是首先发动佯攻，很低的攻击点数攻击，比如1点攻击点。为的就是和防守者进行PK，来看看其对于PK游戏的水平是否在自己之上。这对于攻击者有利。当然，防守者如果简单只有1点攻击点的进攻，自然也可以在玩游戏时隐藏实力。

不论攻击者还是防守者，都是单兵作战，因为无法进行多人PK。如果有很多人同时都想攻击某座城池则会按时间进入（优先级）队列。因此如果你这次没有攻下城池，可能在一段时间内无法获得对这座城池的攻打权，而是由上次在队列里排在你后面的人来进行攻打。因此可能出现攻打城池出力最多的人因为在他的PK里失败，而被一位其后攻打城池花费攻击点较少但是在他的PK里成功的人拿到城池。

## 3 攻城PK

攻城PK是以游戏的形式来给出。目前我们想出的适合作为段时间内PK的游戏有简单连连看、算24点、简单数独、按1秒等。如果攻防PK开始，系统会随机选一个游戏作为本次PK的游戏。双方进行短暂的游戏，最后得到游戏分数。按照总分=游戏分数 × 防守/进攻点数的方式决定PK输赢。

	简单连连看就是双方队同一副连连看牌，谁结束游戏花的时间少得分高。
	算24点是随机抽四张牌。双发对同样的四张牌，谁先拼出24点，谁获胜。
	简单数独类似。
	按1秒是双方凭自己的感觉，按住屏幕然后放开，按住屏幕的时间越接近1秒分数越高。

## 4 防守者

防守者现在的收益只有来自城里自产矿的收益。一座城池会以一定速度（速度可以是定值。也可以设定为一个与奖金池总量有关的值，如果正比于奖金池，则在奖金池减少后，矿产量也会降低，防守的收益降低）的产出EOS给它的防守者。一局游戏时间差不多是45分钟，只要占领这座城池，就能一直有矿产收入。防守来自攻击者的攻击现在不再有收益了。
防守者防守城池需要防守点，防守点也是需要以直接花费EOS的形式给出。但是防守点应该比攻击点更便宜（或者每个城池达到相同的防守点需要花费的EOS是不同的，以体现有的城池易守难攻，有的城池易攻难守）。比如某座城池的120防守点需要消耗EOS是1个，则其易守难攻。设1个EOS能得到的防守点是100b，称b为城池的防守系数，b的一个典型值为1.2。

当防守者面临攻击者的进攻时，也就是攻击者发出宣战后，防守者有一分钟时间来接受这个宣战，1分钟后自动进入攻防PK状态。如果防守者因事不在线，可以设置为默认托管状态。在这个模式下，会有水平一般的托管机器人来帮助你完成PK，使得你在游戏PK中的游戏得分至少不为0。

因为被宣战时能看到攻击者打算在本次攻击中投入的攻击点数，面对宣战，防守者还有另一个选项——弃城。在这种情况下，攻击者则不需要花费任何实际的攻击点消耗就能获得这座城池的防守权。面对众多宣战者，防守者可以对某一特定的宣战者执行弃城。此时，防守者能够以50%的回收率将自己用于防守点的消耗换回EOS。在无人宣战的情况下，防守者也能主动弃城以获得50%的防守点EOS回收。

前面讲到防守者甚至可以在城池防守点耗尽前弃城，这样做的原因是，防守者知道自己收不住了，或者不想守，他可以直接逃走，他也可以更快地去攻打其他城池以再次成为一个城池防守者，因为他觉得这个城池反正已经守不住了。

城池防守者是否可以再去攻击其他城池？如果他攻打其他城池需要亲自过去，而他离开城池又会使得本身的城池防守点下降50%，则他在攻打其他城池时，反而丢了自己原来的城池的风险就会比较大。

## 5 道具及奖金池

道具可以有也可以没有。

道具是除了攻击点和防守点以外对游戏攻防产生影响的重要因素。道具应该具有时效性。也就是说道具在使用后，只在一段时间内有效。

道具可以千奇百怪，可以随着游戏上线后不断更新。道具的价格、道具的数量，道具的获取方式，都是值得深思的问题。

玩家购买道具所花费的前都是到奖金池内，作为城池的稳定EOS产出。城池的稳定产出正比于奖金池，则奖金池可以起到调节矿产速度的效果。每座城池的矿产速度=当前奖金池里EOS数/游戏剩余时间。

对于Dapp的盈利点来说，从进入奖金池的EOS进行抽成或许是不错的方法。

## 6 游戏其他机制

游戏是以局来计的，因此需要定义一个状态来决定游戏的结束。每局游戏的开始，各个玩家需要花费一定的EOS进行开局。但在一整局游戏中，玩家的耗费可能远远不止于此，但也可能是收益。第一种方案是规定时间，规定以45分钟或者多少时间为界。第二种是寻找一种合适的结束时机，比如奖金池少于某一个值，比如有玩家退出，剩余玩家数量少于一定值。

玩家退出。在一局游戏中玩家可以选择完全退出游戏，或者以一个没有什么实际动作的攻城者姿态在游戏中等待。如果要设计玩家可以退出的机制，则需要确定玩家退出时是否可以拿回当初开局花费的EOS（可以选择不还，也可以选择还一部分）。如果玩家退出不予退回EOS，可能会导致玩家宁愿在游戏中什么也不干也不愿意新开一局游戏，不会愿意在新一局游戏中花费EOS作为开局费用。因为这一局游戏既然他已经花钱开局了，他宁愿等待时机。对于盈利而言，任何能创收的情况都不容错过。而开局的EOS花费中的抽成可能是对于庄家非常重要的盈利。因此多开新局无疑是对庄家有利的。
	
所以一种游戏的机制如下。假如每个人的开局费用是5个 EOS/人，城池数量：10，因此玩家数量>10。玩家退出这局游戏时能返还1个EOS。那么游戏结束的标志可以是奖金池里EOS的数量<本局游戏剩余人数或者人数<10（人数小于城池数）或者游戏时间达到45分钟。

在游戏结束时，如果奖金池内还有EOS，则将以均分方式分给剩下在游戏内的所有玩家。